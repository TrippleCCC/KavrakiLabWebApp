{% extends 'base.html' %}

{% block results %}
<h5>Results</h5>
<p>Retrived {{ num_results }} results in {{ '%2.4f' % query_time }} seconds</p>
{% with flash_message = get_flashed_messages() %}
	{% if flash_message %}
		<div class="alert alert-primary" role="alert">
			{{ flash_message }} âœ…
		</div>
	{% endif %}
{% endwith %}
<table class="table table-striped">
	<thread>
		<tr>
			<th scope="col">Allele</th>
			<th scope="col">Peptide</th>
			<th scope="col">Filepath</th>
			<th scope="col">Download</th>
		</tr>
	</thread>
	<tbody>
	{% for row in results %}
	<tr>
		<th scope="row">{{ row["allele"] }}</th>
		<td>{{ row["peptide"] }}</td>
		<td>{{ row["filepath"] }}</td>
		<td><a href='{{ url_for("home.download", path=row["filepath"]) }}' ="button" class="btn btn-primary">Download</button></td>
	</tr>
	{% endfor %}
	</tbody>
</table>
{% endblock %}
